{% extends "base2.html" %}
{% block title %}Login{% endblock %}
{% load static %}
{% block style %}
<link rel="stylesheet" href="{% static 'css/form.css' %}">
<style>
    @media (max-width: 768px) {
        .form-container {
            border-radius: 10px 10px 0px 0px;
        }
    }
</style>
{% endblock%}

{% block content %}
<div class="v-container">
    <div class="form-container">
        <h2>Login</h2>
        <form method="post">
            {% csrf_token %}

            {% comment %} {{ form.as_p }} {% endcomment %}



            <div class="form-floating mb-3">
                {{ form.username }}
                <label for="username">Username</label>
            </div>

            <!-- Password -->
            <div class="input-group mb-3">
                <div class="form-floating">
                    {{ form.password }}
                    <label for="password">Password</label>
                </div>
                <span class="input-group-text password-toggle">
                    <i class="fas fa-eye"></i>
                </span>
            </div>

            <button type="submit" class="btn btn-success w-100">Login</button>
            <br><br>
            <a href="{% url 'reset_password' %}" class="text-danger">Forgot Password?</a>
        </form>
    </div>
    <div class="form-details">
        <h1>VIDNICK Signup</h1>
        <span>Don't have a account?</span>
        <a href="{% url 'register_view' %}">Register</a>
    </div>
</div>
{% endblock %}



{% block script %}
<!-- Password Toggle -->
<script>
    document.querySelectorAll('.password-toggle').forEach(icon => {
        icon.addEventListener('click', function () {
            // Find the nearest input element
            const input = this.closest('.input-group').querySelector('input');
            
            // Toggle the input type between 'password' and 'text'
            if (input.type === 'password') {
                input.type = 'text';
                this.querySelector('i').classList.remove('fa-eye');
                this.querySelector('i').classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                this.querySelector('i').classList.remove('fa-eye-slash');
                this.querySelector('i').classList.add('fa-eye');
            }
        });
    });  
</script>
{% endblock script %}
    